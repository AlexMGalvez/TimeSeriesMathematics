import { useState } from "react";
import Card from "../../UI/Card";
import LineChart from "../LineChart";
import ChartForm from "../chartForm/ChartForm";

import classes from "./ChartUI.module.css";

const timeSeriesList = [
  {
    name: "Bitcoin (BTC)",

    x: [
      "2021-05-18",
      "2021-05-19",
      "2021-05-20",
      "2021-05-21",
      "2021-05-22",
      "2021-05-23",
      "2021-05-24",
      "2021-05-25",
      "2021-05-26",
      "2021-05-27",
      "2021-05-28",
      "2021-05-29",
      "2021-05-30",
      "2021-05-31",
      "2021-06-01",
      "2021-06-02",
      "2021-06-03",
      "2021-06-04",
      "2021-06-05",
      "2021-06-06",
      "2021-06-07",
      "2021-06-08",
      "2021-06-09",
      "2021-06-10",
      "2021-06-11",
      "2021-06-12",
      "2021-06-13",
      "2021-06-14",
      "2021-06-15",
      "2021-06-16",
      "2021-06-17",
      "2021-06-18",
      "2021-06-19",
      "2021-06-20",
      "2021-06-21",
      "2021-06-22",
      "2021-06-23",
      "2021-06-24",
      "2021-06-25",
      "2021-06-26",
      "2021-06-27",
      "2021-06-28",
      "2021-06-29",
      "2021-06-30",
      "2021-07-01",
      "2021-07-02",
      "2021-07-03",
      "2021-07-04",
      "2021-07-05",
      "2021-07-06",
      "2021-07-07",
      "2021-07-08",
      "2021-07-09",
      "2021-07-10",
      "2021-07-11",
      "2021-07-12",
      "2021-07-13",
      "2021-07-14",
      "2021-07-15",
      "2021-07-16",
      "2021-07-17",
      "2021-07-18",
      "2021-07-19",
      "2021-07-20",
      "2021-07-21",
      "2021-07-22",
      "2021-07-23",
    ],
    y: [
      42909.402344, 37002.441406, 40782.738281, 37304.691406, 37536.632813,
      34770.582031, 38705.980469, 38402.222656, 39294.199219, 38436.96875,
      35697.605469, 34616.066406, 35678.128906, 37332.855469, 36684.925781,
      37575.179688, 39208.765625, 36894.40625, 35551.957031, 35862.378906,
      33560.707031, 33472.632813, 37345.121094, 36702.597656, 37334.398438,
      35552.515625, 39097.859375, 40218.476563, 40406.269531, 38347.0625,
      38053.503906, 35787.246094, 35615.871094, 35698.296875, 31676.693359,
      32505.660156, 33723.027344, 34662.4375, 31637.779297, 32186.277344,
      34649.644531, 34434.335938, 35867.777344, 35040.835938, 33572.117188,
      33897.046875, 34668.546875, 35287.78125, 33746.003906, 34235.195313,
      33855.328125, 32877.371094, 33798.011719, 33520.519531, 34240.1875,
      33155.847656, 32702.025391, 32822.347656, 31780.730469, 31421.539063,
      31533.068359, 31796.810547, 30817.832031, 29807.347656, 32110.693359,
      32313.105469, 33581.550781,
    ],
  },
  {
    name: "General Electric (GE)",
    x: [
      "2019-08-26",
      "2019-08-27",
      "2019-08-28",
      "2019-08-29",
      "2019-08-30",
      "2019-09-03",
      "2019-09-04",
      "2019-09-05",
      "2019-09-06",
      "2019-09-09",
      "2019-09-10",
      "2019-09-11",
      "2019-09-12",
      "2019-09-13",
      "2019-09-16",
      "2019-09-17",
      "2019-09-18",
      "2019-09-19",
      "2019-09-20",
      "2019-09-23",
      "2019-09-24",
      "2019-09-25",
      "2019-09-26",
      "2019-09-27",
      "2019-09-30",
      "2019-10-01",
      "2019-10-02",
      "2019-10-03",
      "2019-10-04",
      "2019-10-07",
      "2019-10-08",
      "2019-10-09",
      "2019-10-10",
      "2019-10-11",
      "2019-10-14",
      "2019-10-15",
      "2019-10-16",
      "2019-10-17",
      "2019-10-18",
      "2019-10-21",
      "2019-10-22",
      "2019-10-23",
      "2019-10-24",
      "2019-10-25",
      "2019-10-28",
      "2019-10-29",
      "2019-10-30",
      "2019-10-31",
      "2019-11-01",
      "2019-11-04",
      "2019-11-05",
      "2019-11-06",
      "2019-11-07",
      "2019-11-08",
      "2019-11-11",
      "2019-11-12",
      "2019-11-13",
      "2019-11-14",
      "2019-11-15",
      "2019-11-18",
      "2019-11-19",
      "2019-11-20",
      "2019-11-21",
      "2019-11-22",
      "2019-11-25",
      "2019-11-26",
      "2019-11-27",
      "2019-11-29",
      "2019-12-02",
      "2019-12-03",
      "2019-12-04",
      "2019-12-05",
      "2019-12-06",
      "2019-12-09",
      "2019-12-10",
      "2019-12-11",
      "2019-12-12",
      "2019-12-13",
      "2019-12-16",
      "2019-12-17",
      "2019-12-18",
      "2019-12-19",
      "2019-12-20",
      "2019-12-23",
      "2019-12-24",
      "2019-12-26",
      "2019-12-27",
      "2019-12-30",
      "2019-12-31",
      "2020-01-02",
      "2020-01-03",
      "2020-01-06",
      "2020-01-07",
      "2020-01-08",
      "2020-01-09",
      "2020-01-10",
      "2020-01-13",
      "2020-01-14",
      "2020-01-15",
      "2020-01-16",
      "2020-01-17",
      "2020-01-21",
      "2020-01-22",
      "2020-01-23",
      "2020-01-24",
      "2020-01-27",
      "2020-01-28",
      "2020-01-29",
      "2020-01-30",
      "2020-01-31",
      "2020-02-03",
      "2020-02-04",
      "2020-02-05",
      "2020-02-06",
      "2020-02-07",
      "2020-02-10",
      "2020-02-11",
      "2020-02-12",
      "2020-02-13",
      "2020-02-14",
      "2020-02-18",
      "2020-02-19",
      "2020-02-20",
      "2020-02-21",
    ],
    y: [
      64.400002, 63.439999, 63.52, 64.879997, 66, 66.639999, 70.400002,
      70.480003, 69.68, 71.68, 73.120003, 74.879997, 74.080002, 74.720001,
      75.040001, 74.879997, 75.040001, 75.360001, 74.959999, 74.720001,
      71.760002, 73.279999, 72.160004, 72.32, 71.519997, 68.879997, 68.080002,
      69.68, 68.559998, 68.480003, 66.239998, 66.800003, 67.599998, 70.400002,
      69.760002, 71.120003, 71.199997, 72.32, 71.68, 70.32, 72.480003,
      73.120003, 71.599998, 72, 72.559998, 72.559998, 80.879997, 79.839996,
      83.040001, 87.440002, 87.760002, 88.160004, 90.32, 92.160004, 90.800003,
      91.360001, 90.32, 90.32, 92.160004, 91.519997, 92, 91.120003, 92.239998,
      92.400002, 92.639999, 90.800003, 90.32, 90.160004, 89.279999, 87.919998,
      87.199997, 86.32, 88.800003, 87.919998, 88.080002, 87.760002, 91.519997,
      90.720001, 89.360001, 88.800003, 87.68, 88.32, 88.239998, 89.279999,
      89.519997, 89.839996, 89.440002, 88.639999, 89.279999, 95.440002,
      95.760002, 97.120003, 96.400002, 95.519997, 95.279999, 93.360001,
      96.959999, 96.239998, 94.959999, 94.720001, 94.480003, 93.279999,
      90.959999, 94.160004, 93.68, 91.519997, 93.839996, 103.519997, 101.839996,
      99.599998, 98.080002, 100.639999, 102.879997, 103.599998, 102.639999,
      103.279999, 102.800003, 105.279999, 103.519997, 102.639999, 102,
      100.879997, 100.239998, 98,
    ],
  },
];

const ChartUi = () => {
  const [stock, setStock] = useState(timeSeriesList[0]);
  const [supportLine, setSupportLine] = useState({});
  const [resistanceLine, setResistanceLine] = useState({});
  const [errpct, setErrpct] = useState(0.01);

  const changeStockHandler = (event) => {
    setStock(() => {
      return timeSeriesList[event.target.value];
    });
  };

  const changeSupportLineHandler = (line) => {
    setSupportLine(() => {
      return { ...line };
    });
  };

  const changeResistanceLineHandler = (line) => {
    setResistanceLine(() => {
      return { ...line };
    });
  };

  const changeErrpctHandler = (errpct) => {
    setErrpct(() => {
      return errpct;
    });
  };

  return (
    <Card>
      <p className={classes.subtleText}>This UI is what the final result of our code in this walkthrough can produce.</p>
      <div className={classes.row}>
        <LineChart
          stock={stock}
          supportLine={supportLine}
          resistanceLine={resistanceLine}
          errpct={errpct}
          changeSupportLine={changeSupportLineHandler}
          changeResistanceLine={changeResistanceLineHandler}
        />
        <ChartForm
          changeStock={changeStockHandler}
          errpct={errpct}
          changeErrpct={changeErrpctHandler}
        />
      </div>
    </Card>
  );
};

export default ChartUi;
